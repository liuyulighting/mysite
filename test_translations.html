<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¿»è¯‘æµ‹è¯•é¡µé¢</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        .test-section {
            margin: 20px 0;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        .success { background-color: #d4edda; border-color: #c3e6cb; }
        .error { background-color: #f8d7da; border-color: #f5c6cb; }
        .info { background-color: #d1ecf1; border-color: #bee5eb; }
        button {
            padding: 10px 20px;
            margin: 5px;
            border: none;
            border-radius: 3px;
            cursor: pointer;
        }
        .btn-primary { background-color: #007bff; color: white; }
        .btn-success { background-color: #28a745; color: white; }
        .btn-warning { background-color: #ffc107; color: black; }
        .translation-result {
            margin: 10px 0;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 3px;
            font-family: monospace;
        }
    </style>
</head>
<body>
    <h1>ğŸŒ å¤šè¯­è¨€ç¿»è¯‘æµ‹è¯•</h1>
    
    <div class="test-section info">
        <h3>æµ‹è¯•è¯´æ˜</h3>
        <p>è¿™ä¸ªé¡µé¢ç”¨äºæµ‹è¯•ä»profile.jsonè¯»å–çš„å¤šè¯­è¨€ç¿»è¯‘æ˜¯å¦æ­£å¸¸å·¥ä½œã€‚</p>
    </div>
    
    <div class="test-section">
        <h3>1. æµ‹è¯•æ•°æ®åŠ è½½</h3>
        <button class="btn-primary" onclick="testDataLoading()">æµ‹è¯•æ•°æ®åŠ è½½</button>
        <div id="data-result"></div>
    </div>
    
    <div class="test-section">
        <h3>2. æµ‹è¯•ç¿»è¯‘åŠŸèƒ½</h3>
        <button class="btn-success" onclick="testTranslations()">æµ‹è¯•ç¿»è¯‘åŠŸèƒ½</button>
        <div id="translation-result"></div>
    </div>
    
    <div class="test-section">
        <h3>3. è¯­è¨€åˆ‡æ¢æµ‹è¯•</h3>
        <button class="btn-warning" onclick="testLanguageSwitching()">æµ‹è¯•è¯­è¨€åˆ‡æ¢</button>
        <div id="language-result"></div>
    </div>

    <script>
        let gameTexts = {};
        let currentLanguage = 'zh';
        
        async function testDataLoading() {
            const resultDiv = document.getElementById('data-result');
            resultDiv.innerHTML = 'æ­£åœ¨æµ‹è¯•æ•°æ®åŠ è½½...';
            
            try {
                const response = await fetch('data/profile.json');
                if (response.ok) {
                    const data = await response.json();
                    resultDiv.innerHTML = `<div class="success">âœ… æ•°æ®åŠ è½½æˆåŠŸï¼ŒåŒ…å« ${Object.keys(data).length} ä¸ªä¸»è¦éƒ¨åˆ†</div>`;
                    console.log('Profile data loaded:', data);
                } else {
                    resultDiv.innerHTML = `<div class="error">âŒ æ•°æ®åŠ è½½å¤±è´¥: HTTP ${response.status}</div>`;
                }
            } catch (error) {
                resultDiv.innerHTML = `<div class="error">âŒ æ•°æ®åŠ è½½é”™è¯¯: ${error.message}</div>`;
            }
        }
        
        async function testTranslations() {
            const resultDiv = document.getElementById('translation-result');
            resultDiv.innerHTML = 'æ­£åœ¨æµ‹è¯•ç¿»è¯‘åŠŸèƒ½...';
            
            try {
                const response = await fetch('data/profile.json');
                const profileData = await response.json();
                
                // æ¨¡æ‹ŸconvertProfileToGameTextå‡½æ•°
                gameTexts = convertProfileToGameText(profileData);
                
                let result = '<div class="success">âœ… ç¿»è¯‘åŠŸèƒ½æµ‹è¯•æˆåŠŸï¼</div>';
                result += '<div class="translation-result">';
                result += '<h4>ä¸­æ–‡ç¿»è¯‘:</h4>';
                result += `æŠ€èƒ½: ${gameTexts.zh.tabs.skills}<br>`;
                result += `æˆå°±: ${gameTexts.zh.tabs.achievements}<br>`;
                result += `æ•™è‚²: ${gameTexts.zh.tabs.education}<br>`;
                result += `æ¬¢è¿: ${gameTexts.zh.ui.welcome}<br>`;
                result += `äº§å“ç­–åˆ’: ${gameTexts.zh.skills.productPlanning.name}<br>`;
                result += `ARRæˆå°±: ${gameTexts.zh.achievements.arr.title}<br>`;
                result += `æµ™æ±Ÿå¤§å­¦: ${gameTexts.zh.education.zju.school}<br>`;
                result += '<h4>è‹±æ–‡ç¿»è¯‘:</h4>';
                result += `Skills: ${gameTexts.en.tabs.skills}<br>`;
                result += `Achievements: ${gameTexts.en.tabs.achievements}<br>`;
                result += `Education: ${gameTexts.en.tabs.education}<br>`;
                result += `Welcome: ${gameTexts.en.ui.welcome}<br>`;
                result += `Product Planning: ${gameTexts.en.skills.productPlanning.name}<br>`;
                result += `ARR Achievement: ${gameTexts.en.achievements.arr.title}<br>`;
                result += `Zhejiang University: ${gameTexts.en.education.zju.school}<br>`;
                result += '<h4>æ—¥æ–‡ç¿»è¯‘:</h4>';
                result += `ã‚¹ã‚­ãƒ«: ${gameTexts.ja.tabs.skills}<br>`;
                result += `å®Ÿç¸¾: ${gameTexts.ja.tabs.achievements}<br>`;
                result += `æ•™è‚²: ${gameTexts.ja.tabs.education}<br>`;
                result += `ã‚ˆã†ã“ã: ${gameTexts.ja.ui.welcome}<br>`;
                result += `ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆä¼ç”»: ${gameTexts.ja.skills.productPlanning.name}<br>`;
                result += `ARRå®Ÿç¸¾: ${gameTexts.ja.achievements.arr.title}<br>`;
                result += `æµ™æ±Ÿå¤§å­¦: ${gameTexts.ja.education.zju.school}<br>`;
                result += '</div>';
                
                resultDiv.innerHTML = result;
            } catch (error) {
                resultDiv.innerHTML = `<div class="error">âŒ ç¿»è¯‘æµ‹è¯•é”™è¯¯: ${error.message}</div>`;
            }
        }
        
        function testLanguageSwitching() {
            const resultDiv = document.getElementById('language-result');
            
            if (!gameTexts.zh) {
                resultDiv.innerHTML = '<div class="error">âŒ è¯·å…ˆè¿è¡Œç¿»è¯‘åŠŸèƒ½æµ‹è¯•</div>';
                return;
            }
            
            const languages = ['zh', 'en', 'ja'];
            let result = '<div class="success">âœ… è¯­è¨€åˆ‡æ¢æµ‹è¯•æˆåŠŸï¼</div>';
            result += '<div class="translation-result">';
            
            languages.forEach(lang => {
                result += `<h4>${lang.toUpperCase()} è¯­è¨€:</h4>`;
                result += `æŠ€èƒ½: ${gameTexts[lang].tabs.skills}<br>`;
                result += `D5é¡¹ç›®: ${gameTexts[lang].projects.d5Title}<br>`;
                result += `å¼€å§‹æŒ‰é’®: ${gameTexts[lang].ui.start}<br>`;
                result += `äº§å“ç­–åˆ’: ${gameTexts[lang].skills.productPlanning.name}<br>`;
                result += `ARRæˆå°±: ${gameTexts[lang].achievements.arr.title}<br>`;
                result += `æµ™æ±Ÿå¤§å­¦: ${gameTexts[lang].education.zju.school}<br>`;
                result += '<br>';
            });
            
            result += '</div>';
            resultDiv.innerHTML = result;
        }
        
        // æ¨¡æ‹ŸconvertProfileToGameTextå‡½æ•°
        function convertProfileToGameText(profileData) {
            return {
                zh: {
                    tabs: {
                        skills: profileData.ui?.tabs?.skills?.zh || "æŠ€èƒ½",
                        achievements: profileData.ui?.tabs?.achievements?.zh || "æˆå°±",
                        education: profileData.ui?.tabs?.education?.zh || "æ•™è‚²"
                    },
                    projects: {
                        d5Title: profileData.ui?.projects?.d5Title?.zh || "D5 æ¸²æŸ“å™¨å›¢é˜Ÿç‰ˆ"
                    },
                    ui: {
                        start: profileData.ui?.start?.zh || "START",
                        welcome: profileData.ui?.welcome?.zh || "æ¬¢è¿æ¥åˆ°æˆ‘çš„ä½œå“é›†"
                    },
                    skills: {
                        productPlanning: {
                            name: profileData.skills?.productPlanning?.name?.zh || "äº§å“ç­–åˆ’ Lv.10",
                            description: profileData.skills?.productPlanning?.description?.zh || "ç«¯åˆ°ç«¯è´Ÿè´£è®¢é˜…åˆ¶æ¸²æŸ“å™¨å®¢æˆ·ç«¯/æœåŠ¡ç«¯äº§å“è®¾è®¡ä¸å•†ä¸šåŒ–è½åœ°"
                        }
                    },
                    achievements: {
                        arr: {
                            title: profileData.achievements?.arr?.title?.zh || "ARR 1500ä¸‡+",
                            description: profileData.achievements?.arr?.description?.zh || "å›¢é˜Ÿç‰ˆä»0åˆ°1ï¼Œå®ç°è®¢é˜…åˆ¶æ”¶å…¥ä¸ç•™å­˜åŒå¢é•¿"
                        }
                    },
                    education: {
                        zju: {
                            school: profileData.education?.zju?.school?.zh || "æµ™æ±Ÿå¤§å­¦ / è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯å­¦é™¢",
                            degree: profileData.education?.zju?.degree?.zh || "å·¥ä¸šè®¾è®¡å·¥ç¨‹ â€¢ å·¥å­¦ç¡•å£«"
                        }
                    }
                },
                en: {
                    tabs: {
                        skills: profileData.ui?.tabs?.skills?.en || "Skills",
                        achievements: profileData.ui?.tabs?.achievements?.en || "Wins",
                        education: profileData.ui?.tabs?.education?.en || "Education"
                    },
                    projects: {
                        d5Title: profileData.ui?.projects?.d5Title?.en || "D5 Render Team Edition"
                    },
                    ui: {
                        start: profileData.ui?.start?.en || "START",
                        welcome: profileData.ui?.welcome?.en || "Welcome to My Portfolio"
                    },
                    skills: {
                        productPlanning: {
                            name: profileData.skills?.productPlanning?.name?.en || "Product Planning Lv.10",
                            description: profileData.skills?.productPlanning?.description?.en || "End-to-end responsibility for subscription-based renderer client/server product design and commercialization"
                        }
                    },
                    achievements: {
                        arr: {
                            title: profileData.achievements?.arr?.title?.en || "ARR 15M+ RMB",
                            description: profileData.achievements?.arr?.description?.en || "Team edition from 0 to 1, achieving dual growth in subscription revenue and retention"
                        }
                    },
                    education: {
                        zju: {
                            school: profileData.education?.zju?.school?.en || "Zhejiang University / College of Computer Science and Technology",
                            degree: profileData.education?.zju?.degree?.en || "Industrial Design Engineering â€¢ Master of Engineering"
                        }
                    }
                },
                ja: {
                    tabs: {
                        skills: profileData.ui?.tabs?.skills?.ja || "ã‚¹ã‚­ãƒ«",
                        achievements: profileData.ui?.tabs?.achievements?.ja || "å®Ÿç¸¾",
                        education: profileData.ui?.tabs?.education?.ja || "æ•™è‚²"
                    },
                    projects: {
                        d5Title: profileData.ui?.projects?.d5Title?.ja || "D5 ãƒ¬ãƒ³ãƒ€ãƒ¼ãƒãƒ¼ãƒ ç‰ˆ"
                    },
                    ui: {
                        start: profileData.ui?.start?.ja || "ã‚¹ã‚¿ãƒ¼ãƒˆ",
                        welcome: profileData.ui?.welcome?.ja || "ç§ã®ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªã¸ã‚ˆã†ã“ã"
                    },
                    skills: {
                        productPlanning: {
                            name: profileData.skills?.productPlanning?.name?.ja || "ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆä¼ç”» Lv.10",
                            description: profileData.skills?.productPlanning?.description?.ja || "ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³å‹ãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ/ã‚µãƒ¼ãƒãƒ¼è£½å“è¨­è¨ˆã¨å•†æ¥­åŒ–ã®ã‚¨ãƒ³ãƒ‰ãƒ„ãƒ¼ã‚¨ãƒ³ãƒ‰è²¬ä»»"
                        }
                    },
                    achievements: {
                        arr: {
                            title: profileData.achievements?.arr?.title?.ja || "ARR 1500ä¸‡+",
                            description: profileData.achievements?.arr?.description?.ja || "ãƒãƒ¼ãƒ ç‰ˆã‚’0ã‹ã‚‰1ã¸ã€ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³åç›Šã¨ãƒªãƒ†ãƒ³ã‚·ãƒ§ãƒ³ã®äºŒé‡æˆé•·ã‚’å®Ÿç¾"
                        }
                    },
                    education: {
                        zju: {
                            school: profileData.education?.zju?.school?.ja || "æµ™æ±Ÿå¤§å­¦ / ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ç§‘å­¦æŠ€è¡“å­¦é™¢",
                            degree: profileData.education?.zju?.degree?.ja || "å·¥æ¥­ãƒ‡ã‚¶ã‚¤ãƒ³å·¥å­¦ â€¢ å·¥å­¦ä¿®å£«"
                        }
                    }
                }
            };
        }
        
        // é¡µé¢åŠ è½½æ—¶è‡ªåŠ¨æµ‹è¯•æ•°æ®åŠ è½½
        window.onload = function() {
            testDataLoading();
        };
    </script>
</body>
</html>
